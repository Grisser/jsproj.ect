<!DOCTYPE html>
<html>

    <head>

        <meta charset="utf-8"/>
        <title>
            Plan!            
        </title>
        <link rel="stylesheet" href="css/style.css">
        <link rel="stylesheet" href="css/bootstrap.min.css">
        <link rel="stylesheet" href="css/animate.css">
        <link rel="icon" href="favicon.png">
        <script src="js/jquery-3.4.1.min.js"></script>
        <script src="js/bootstrap.bundle.min.js"></script>
        <script>

            'use strict';

            class LandingPage {

                constructor() {

                    this.current = 1;

                }

                initMainMenu() {

                    mobileMenuButton.addEventListener('click', function(){

                        mobile.style.display = 'block';
                        mobile.style.opacity = '1';

                    });

                    closeMobNav.addEventListener('click', function(){

                        mobile.style.display = 'none';
                        mobile.style.opacity = '0';

                    });

                }

                /*
                initMenu() {

                    for (let i = 1; i <= 4; i += 1) {

                        let id = '#m' + i;
                        console.log(id);

                        document.querySelector(id).addEventListener('click', function(){

                            if (this.current != i) {

                                this.removeInfo();

                                this.current = i;
                                
                                for (let j = 1; j <= i; j += 1)
                                    document.querySelector('#slide' + j).style.opacity = '1';
                                for (let j = i + 1; j <= 4; j += 1)
                                    document.querySelector('#slide' + j).style.opacity = '0';

                                this.showInfo();
                                this.updateMenu();

                            }

                        });

                    }

                }
                */

                removeInfo() {

                    document.querySelector('#block-' + this.current + '-1').classList.remove('fadeIn');
                    document.querySelector('#block-' + this.current + '-2').classList.remove('fadeIn');

                    document.querySelector('#block-' + this.current + '-1').classList.add('animated');
                    document.querySelector('#block-' + this.current + '-1').classList.add('fadeOut');
                    document.querySelector('#block-' + this.current + '-2').classList.add('animated');
                    document.querySelector('#block-' + this.current + '-2').classList.add('fadeOut');

                    document.querySelector('#block-' + this.current + '-1').style.display = 'none';
                    document.querySelector('#block-' + this.current + '-2').style.display = 'none';

                }

                showInfo() {

                    document.querySelector('#block-' + this.current + '-1').classList.remove('fadeOut');
                    document.querySelector('#block-' + this.current + '-2').classList.remove('fadeOut');

                    document.querySelector('#block-' + this.current + '-1').style.display = 'block';
                    document.querySelector('#block-' + this.current + '-2').style.display = 'block';

                    document.querySelector('#block-' + this.current + '-1').classList.add('animated');
                    document.querySelector('#block-' + this.current + '-1').classList.add('fadeIn');
                    document.querySelector('#block-' + this.current + '-2').classList.add('animated');
                    document.querySelector('#block-' + this.current + '-2').classList.add('fadeIn');

                    //let timeid = setTimeout(this.removeTrash, 1500);

                }

                removeTrash() {

                    document.querySelector('#block-' + this.current + '-1').classList.remove('animated');
                    document.querySelector('#block-' + this.current + '-1').classList.remove('fadeIn');
                    document.querySelector('#block-' + this.current + '-2').classList.remove('animated');
                    document.querySelector('#block-' + this.current + '-2').classList.remove('fadeIn');

                }

                updateMenu() {
    

                    for (let i = 1; i <= 4; i += 1)  {

                        document.querySelector('#m' + i).classList.remove('activatedPoint');
                        document.querySelector('#m' + i).classList.add('notActivatedPoint');
                        //document.querySelector('#m' + i).style.cursor = "pointer";

                    }

                    document.querySelector('#m' + this.current).classList.remove('notActivatedPoint');
                    document.querySelector('#m' + this.current).classList.add('activatedPoint');
                    //document.querySelector('#m' + i).style.cursor = "default";

                }

                up() {

                    if (this.current < 4) {
                        
                        this.removeInfo();

                        this.current += 1;
                        document.querySelector('#slide' + this.current).style.opacity = '1';

                        this.showInfo();
                        this.updateMenu();

                    }

                }

                down() {

                    if (this.current > 1) {

                        this.removeInfo();

                        document.querySelector('#slide' + this.current).style.opacity = '0';
                        this.current -= 1;

                        this.showInfo();
                        this.updateMenu();

                    }

                }

            }

            let lp = new LandingPage();

            this.addEventListener('wheel', function(e) {

                if (e.deltaY > 0)
                    lp.up();
                else
                    lp.down();

            });

            document.addEventListener('DOMContentLoaded', function(){

                preloader_image.style.visibility = 'hidden';
                main.style.visibility = 'visible';
                //lp.initMenu();
                lp.initMainMenu();

            });

        </script>

    </head>
    <body>

        <img id="preloader_image" src="img/rocket-ship.svg">

        <div id="main" style="visibility:hidden;">
                
            <div id="slide1" class="screen"></div>
            <div id="slide2" class="screen" style="opacity: 0;"></div>
            <div id="slide3" class="screen" style="opacity: 0;"></div>
            <div id="slide4" class="screen" style="opacity: 0;"></div>
            <nav id="mobile">

                <div id="menuMobileContainer" class="row align-items-center">

                    <div class="col-12">

                        <a class="menuItemDesc" href="login.html">ВХОД/РЕГИСТРАЦИЯ</a>
                        <a class="menuItemDesc" href="#">О ПРОЕКТЕ</a>

                    </div>

                </div>
                <img id="closeMobNav" src="img/cancel.svg">

            </nav>
            <div id="container" class="row align-items-center animated fadeIn">

                <img id="mobileMenuButton" src="img/menu.svg">
                <nav id="desktop">

                    <a class="menuItemDesc" href="login.html">ВХОД/РЕГИСТРАЦИЯ</a>
                    <a class="menuItemDesc" href="#">О ПРОЕКТЕ</a>
            
                </nav>

                <div class="col-12">

                    <div id="mm">

                        <div id="m1" class="point activatedPoint"></div>
                        <div id="m2" class="point notActivatedPoint" style="top: 40px;"></div>
                        <div id="m3" class="point notActivatedPoint" style="top: 80px;"></div>
                        <div id="m4" class="point notActivatedPoint" style="top: 120px;"></div>
                
                    </div>

                    <div class="row">

                        <div class="col-12 col-xl-6 col-lg-6 col-md-12 col-sm-12 align-self-center">
                            
                            <div id="block-1-1">

                                <h1>Реализуйте проекты с помощью Plan!</h1>
                                <h3>Теперь с <i>Plan!</i> ваша жизнь станет намного проще</h3>

                            </div>
                            <div id="block-2-1" style="display:none;">
                            
                                <h1>Познакомтесь с удобным интерфейсом</h1>
                                <h3>В <i>Plan!</i> всё устроено так, чтобы пользователю было максимально удобно пользоваться нашим сервисом</h3>
                            
                            </div>
                            <div id="block-3-1" style="display:none;">
                            
                                <h1>Объединяйтесь в команды</h1>
                                <h3>Такие сервисы, как <i>Plan!</i> предназначены для организации работы в команде. Мы предоставляем данную возможность для наших пользователей</h3>
                            
                            </div>
                            <div id="block-4-1" style="display:none;">
                            
                                <h1>Дорожная карта!</h1>
                                <h3>Новшество <i>Plan!</i>: простое и быстрое создание дорожных карт проектов. Создавайте и используйте их вместе с общей страницей проекта</h3>
                            
                            </div>

                        </div>
                        <div class="col-12 col-xl-5 col-lg-5 col-md-12 col-sm-12"> 

                            <div id="block-1-2"> 
                                <center>
                                    <img class="slideImg" src="img/launch.svg">
                                </center>
                            </div>
                            <div id="block-2-2" style="display:none;">
                                <center>
                                    <img class="slideImg" src="img/editor.svg">
                                </center>
                            </div> 
                            <div id="block-3-2" style="display:none;">
                                <center>
                                    <img class="slideImg" src="img/team.svg">
                                </center>
                            </div> 
                            <div id="block-4-2" style="display:none;">
                                <center>
                                    <img class="slideImg" src="img/tactic.svg">
                                </center>
                            </div> 

                        </div>

                    </div>

                </div>

            </div>

        </div>
        
    </body>

</html>